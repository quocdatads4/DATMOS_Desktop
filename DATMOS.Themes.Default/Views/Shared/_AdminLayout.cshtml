@* 
    Admin Layout - Extends base theme layout
    Specific styling and components for Admin area
*@

@{
    Layout = "_Layout";
}

@section Styles {
    <!-- Admin-specific CSS -->
    <link rel="stylesheet" href="~/_content/DATMOS.Modules.Admin/css/admin.css" />
    
    <!-- Additional admin styles -->
    <style>
        .admin-container {
            background-color: #f8f9fa;
        }
        
        .admin-sidebar {
            background-color: #343a40;
            color: white;
        }
        
        .admin-content {
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
}

@section Scripts {
    <!-- Admin-specific JavaScript -->
    <script src="~/_content/DATMOS.Modules.Admin/js/admin.js"></script>
}

<!-- Override theme container for admin -->
<div class="theme-container admin-container">
    <!-- Admin-specific sidebar -->
    <aside class="theme-sidebar admin-sidebar">
        @await Component.InvokeAsync("ThemeMenu")
        
        <!-- Additional admin menu items -->
        <div class="admin-quick-links">
            <h3>Quick Actions</h3>
            <ul>
                <li><a href="/Admin/Dashboard">Dashboard</a></li>
                <li><a href="/Admin/Users">Manage Users</a></li>
                <li><a href="/Admin/Courses">Manage Courses</a></li>
                <li><a href="/Admin/Reports">Reports</a></li>
            </ul>
        </div>
    </aside>
    
    <!-- Main content area -->
    <main class="theme-main">
        <!-- Admin breadcrumb -->
        <div class="theme-breadcrumb admin-breadcrumb">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/Admin">Admin</a></li>
                    @RenderSection("Breadcrumb", required: false)
                </ol>
            </nav>
        </div>
        
        <!-- Admin page header -->
        <header class="theme-page-header admin-page-header">
            <h1><i class="fas fa-cog"></i> @ViewData["Title"]</h1>
            <div class="admin-actions">
                @RenderSection("AdminActions", required: false)
            </div>
        </header>
        
        <!-- Admin content -->
        <div class="theme-content admin-content">
            <!-- Admin notifications -->
            @if (TempData["AdminSuccess"] != null)
            {
                <div class="alert alert-success">
                    @TempData["AdminSuccess"]
                </div>
            }
            
            @if (TempData["AdminError"] != null)
            {
                <div class="alert alert-danger">
                    @TempData["AdminError"]
                </div>
            }
            
            <!-- Main content -->
            @RenderBody()
        </div>
    </main>
</div>

<!-- Admin-specific scripts -->
@section FooterScripts {
    <script>
        // Admin-specific initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize admin components
            if (typeof adminInit === 'function') {
                adminInit();
            }
            
            // Confirmations for destructive actions
            document.querySelectorAll('.admin-confirm').forEach(function(element) {
                element.addEventListener('click', function(e) {
                    if (!confirm('Are you sure you want to perform this action?')) {
                        e.preventDefault();
                    }
                });
            });
        });
    </script>
    
    @RenderSection("AdminScripts", required: false)
}
